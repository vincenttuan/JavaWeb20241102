<%@ page import="java.util.List"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%
	String username = "æœªç™»å…¥";
	boolean isLoggedIn = false; // åˆ¤æ–·ç™»å…¥ç‹€æ…‹
	if(session.getAttribute("username") != null) {
		username = session.getAttribute("username") + " å·²ç™»å…¥";
		isLoggedIn = true;
	}
	
	// è³¼ç‰©è»Šå•†å“æ•¸é‡
	int itemCount = 0;
	if(session.getAttribute("cart") != null) {
		itemCount = ((List)session.getAttribute("cart")).size();
	}
%>
<style>
	.item-count {
		background-color: red;
		color: white;
		border-radius: 50%; /* åœ“å½¢ */
		display: inline-block; /* ç‚ºäº†ä½¿ç”¨ padding èˆ‡åœ“å½¢æ•ˆæœ */
		width: 20px;
		height: 20px;
		line-height: 20px; /* å‚ç›´ç½®ä¸­ */
		text-align: center; /* æ°´å¹³ç½®ä¸­ */
		font-size: 14px;
		font-weight: bold; /* æ–‡å­—åŠ ç²— */
	}
</style>    
<div style="background: #DDDDDD;padding: 20px">
	<%=username %>&nbsp;&nbsp;&nbsp;&nbsp;
	ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘§<a href="/javaweb/user/list">ä½¿ç”¨è€…åˆ—è¡¨</a> | 
	
	ğŸ“„<a href="/javaweb/product/list">å•†å“ç®¡ç†</a> | 
	ğŸ“<a href="/javaweb/product/order">å•†å“è¨‚è³¼</a> | 
	<span class="item-count"><%=itemCount %></span> ğŸ›’<a href="/javaweb/product/cart">å•†å“è³¼ç‰©è»Š</a> | 
	ğŸ“ƒ<a href="/javaweb/product/order/history">è¨‚å–®æ­·å²ç´€éŒ„</a> |
	ğŸ“Š<a href="/javaweb/product/statistics">å•†å“çµ±è¨ˆ</a> |
	 
	<% if(isLoggedIn) { %>
		ğŸ“´<a href="/javaweb/user/logout">ä½¿ç”¨è€…ç™»å‡º</a> |
	<% } else { %>
		ğŸ…<a href="/javaweb/user/register">ä½¿ç”¨è€…è¨»å†Š</a> |
		ğŸ‘¦<a href="/javaweb/user/login">ä½¿ç”¨è€…ç™»å…¥</a> |
	<% } %>
	
</div>